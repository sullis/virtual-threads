name: Prepare Release
on:
  workflow_dispatch:
    inputs:
      release-version:
        description: 'Version to release'
        required: false
        default: ''
permissions:
  contents: write
jobs:
  prepare-release:
    name: Create Semantic Version
    uses: ./.github/workflows/java-prepare-release.yml
    with:
      release-version: ${{github.event.inputs.release-version}}
    secrets: inherit
  echo-version:
    runs-on: ubuntu-latest
    needs: prepare-release
    steps:
      - name: echo man
        run: |
          echo "The version is ${{needs.prepare-release.outputs.semantic-version }}"
  prepare-next-snapshot:
    name: Prepare Next Snapshot Version
    needs:
      - prepare-release
      - echo-version
    uses: ./.github/workflows/java-prepare-next-snapshot.yml
    secrets: inherit
